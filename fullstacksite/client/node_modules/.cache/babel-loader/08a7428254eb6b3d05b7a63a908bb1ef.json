{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getScrollTop = getScrollTop;\nexports.ScrollToAnimate = ScrollToAnimate;\nexports.getScrollPercent = getScrollPercent;\n/**\r\n * 获取当前滚动条所在位置\r\n */\n\nfunction getScrollTop() {\n  var scrollTop = 0;\n\n  if (document.documentElement && document.documentElement.scrollTop) {\n    scrollTop = document.documentElement.scrollTop;\n  } else if (document.body) {\n    scrollTop = document.body.scrollTop;\n  }\n\n  return scrollTop;\n}\n/**\r\n * TODO\r\n * @param {*} position 滚动到何处\r\n * @param {*} step 步长\r\n * @param {*} current 滚动条当前位置\r\n */\n\n\nfunction ScrollToAnimate(position, step, current) {\n  var start = 0;\n  var timer = setInterval(function () {\n    if (current - start >= position) {\n      start += step;\n\n      if (current - start >= position) {\n        window.scrollTo(0, current - start);\n      } else {\n        window.scrollTo(0, position);\n      }\n    } else {\n      clearInterval(timer);\n    }\n  }, 0);\n}\n/**\r\n * 获取滚动条位置百分比\r\n */\n\n\nfunction getScrollPercent(offsetTop) {\n  var percent = 0;\n\n  if (offsetTop < getScrollTop()) {\n    percent = Math.round((getScrollTop() - offsetTop) / (document.body.scrollHeight - offsetTop - window.innerHeight) * 100);\n  }\n\n  return percent > 100 ? 100 : percent;\n}","map":{"version":3,"sources":["../lib/utils.jsx"],"names":["scrollTop","document","start","timer","setInterval","current","window","clearInterval","percent","offsetTop","getScrollTop","Math"],"mappings":";;;;;;;;AAAA;;;;AAGO,SAAA,YAAA,GAAwB;AAC7B,MAAIA,SAAS,GAAb,CAAA;;AACA,MAAIC,QAAQ,CAARA,eAAAA,IAA4BA,QAAQ,CAARA,eAAAA,CAAhC,SAAA,EAAoE;AAClED,IAAAA,SAAS,GAAGC,QAAQ,CAARA,eAAAA,CAAZD,SAAAA;AADF,GAAA,MAEO,IAAIC,QAAQ,CAAZ,IAAA,EAAmB;AACxBD,IAAAA,SAAS,GAAGC,QAAQ,CAARA,IAAAA,CAAZD,SAAAA;AACD;;AACD,SAAA,SAAA;AACD;AACD;;;;;;;;AAMO,SAAA,eAAA,CAAA,QAAA,EAAA,IAAA,EAAA,OAAA,EAAkD;AACvD,MAAIE,KAAK,GAAT,CAAA;AACA,MAAIC,KAAK,GAAGC,WAAW,CAAC,YAAM;AAC5B,QAAIC,OAAO,GAAPA,KAAAA,IAAJ,QAAA,EAAiC;AAE/BH,MAAAA,KAAK,IAALA,IAAAA;;AACA,UAAIG,OAAO,GAAPA,KAAAA,IAAJ,QAAA,EAAiC;AAC/BC,QAAAA,MAAM,CAANA,QAAAA,CAAAA,CAAAA,EAAmBD,OAAO,GAA1BC,KAAAA;AADF,OAAA,MAEK;AACHA,QAAAA,MAAM,CAANA,QAAAA,CAAAA,CAAAA,EAAAA,QAAAA;AACD;AAPH,KAAA,MAQO;AACLC,MAAAA,aAAa,CAAbA,KAAa,CAAbA;AACD;AAXoB,GAAA,EAAvB,CAAuB,CAAvB;AAaD;AACD;;;;;AAGO,SAAA,gBAAA,CAAA,SAAA,EAAqC;AAC1C,MAAIC,OAAO,GAAX,CAAA;;AACA,MAAIC,SAAS,GAAGC,YAAhB,EAAA,EAAgC;AAC9BF,IAAAA,OAAO,GAAGG,IAAI,CAAJA,KAAAA,CAAW,CAACD,YAAY,KAAb,SAAA,KAAgCT,QAAQ,CAARA,IAAAA,CAAAA,YAAAA,GAAAA,SAAAA,GAAyCK,MAAM,CAA/E,WAAA,IAArBE,GAAUG,CAAVH;AACD;;AACD,SAAOA,OAAO,GAAPA,GAAAA,GAAAA,GAAAA,GAAP,OAAA;AACD","sourcesContent":["/**\r\n * 获取当前滚动条所在位置\r\n */\r\nexport function getScrollTop() {\r\n  let scrollTop = 0;\r\n  if (document.documentElement && document.documentElement.scrollTop) {\r\n    scrollTop = document.documentElement.scrollTop;\r\n  } else if (document.body) {\r\n    scrollTop = document.body.scrollTop;\r\n  }\r\n  return scrollTop;\r\n}\r\n/**\r\n * TODO\r\n * @param {*} position 滚动到何处\r\n * @param {*} step 步长\r\n * @param {*} current 滚动条当前位置\r\n */\r\nexport function ScrollToAnimate(position, step, current) {\r\n  let start = 0;\r\n  let timer = setInterval(() => {\r\n    if (current - start >= position) {\r\n\r\n      start += step;\r\n      if (current - start >= position) {\r\n        window.scrollTo(0, current - start);\r\n      }else{\r\n        window.scrollTo(0,position);\r\n      }\r\n    } else {\r\n      clearInterval(timer);\r\n    }\r\n  }, 0);\r\n}\r\n/**\r\n * 获取滚动条位置百分比\r\n */\r\nexport function getScrollPercent(offsetTop) {\r\n  let percent = 0;\r\n  if (offsetTop < getScrollTop()) {\r\n    percent = Math.round((getScrollTop() - offsetTop) / (document.body.scrollHeight - offsetTop - window.innerHeight) * 100);\r\n  }\r\n  return percent > 100 ? 100 : percent;\r\n}"]},"metadata":{},"sourceType":"script"}