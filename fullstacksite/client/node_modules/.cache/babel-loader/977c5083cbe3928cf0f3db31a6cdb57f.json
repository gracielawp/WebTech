{"ast":null,"code":"export default function addToCart(props) {\n  /*\r\n     if storage already exists\r\n          load existing cart\r\n              if same product is added (same id same size)\r\n                  add up the count\r\n              if different products\r\n                  push to the existing list\r\n     if no data exists\r\n          create new JSON array and store to local storage\r\n  */\n  const {\n    size,\n    count\n  } = props.productInfo;\n  let cart = localStorage.getItem('myCart');\n\n  if (cart) {\n    let arr = JSON.parse(cart);\n    let exists = false;\n\n    for (let i = 0; i < arr.length; i++) {\n      if (arr[i].id === props.paramId && arr[i].size === size) {\n        arr[i].count += count;\n        exists = true;\n        i = arr.length; // break out of the loop\n      }\n\n      localStorage.setItem('myCart', JSON.stringify(arr, props));\n    }\n\n    if (!exists) {\n      localStorage.setItem('myCart', JSON.stringify(updateStorage(arr, props)));\n    }\n  } else {\n    let arr = [];\n    localStorage.setItem('myCart', JSON.stringify(updateStorage(arr, props)));\n  }\n\n  alert('Added to shopping cart');\n}\n\nfunction updateStorage(arr, props) {\n  const {\n    count,\n    size\n  } = props.productInfo;\n  const {\n    name,\n    price,\n    picture\n  } = props.productInfo.details[0];\n  var obj = {\n    id: props.paramId,\n    name: name,\n    picture: picture,\n    size: size,\n    count: count,\n    price: price,\n    cost: price * count\n  };\n  console.log(obj); //arr.push(obj);\n\n  return arr;\n}","map":{"version":3,"sources":["C:/Users/DELL/WebTech/fullstacksite/client/src/Component/AddToCart.js"],"names":["addToCart","props","size","count","productInfo","cart","localStorage","getItem","arr","JSON","parse","exists","i","length","id","paramId","setItem","stringify","updateStorage","alert","name","price","picture","details","obj","cost","console","log"],"mappings":"AAAA,eAAe,SAASA,SAAT,CAAmBC,KAAnB,EAA0B;AACrC;;;;;;;;;;AAUA,QAAM;AAACC,IAAAA,IAAD;AAAOC,IAAAA;AAAP,MAAgBF,KAAK,CAACG,WAA5B;AACA,MAAIC,IAAI,GAAGC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAX;;AACA,MAAIF,IAAJ,EAAU;AACN,QAAIG,GAAG,GAAGC,IAAI,CAACC,KAAL,CAAWL,IAAX,CAAV;AACA,QAAIM,MAAM,GAAG,KAAb;;AACA,SAAK,IAAIC,CAAC,GAAC,CAAX,EAAcA,CAAC,GAACJ,GAAG,CAACK,MAApB,EAA4BD,CAAC,EAA7B,EAAiC;AAC7B,UAAIJ,GAAG,CAACI,CAAD,CAAH,CAAOE,EAAP,KAAcb,KAAK,CAACc,OAApB,IAA+BP,GAAG,CAACI,CAAD,CAAH,CAAOV,IAAP,KAAgBA,IAAnD,EAAyD;AACrDM,QAAAA,GAAG,CAACI,CAAD,CAAH,CAAOT,KAAP,IAAgBA,KAAhB;AACAQ,QAAAA,MAAM,GAAG,IAAT;AACAC,QAAAA,CAAC,GAACJ,GAAG,CAACK,MAAN,CAHqD,CAGvC;AACjB;;AACDP,MAAAA,YAAY,CAACU,OAAb,CAAqB,QAArB,EAA+BP,IAAI,CAACQ,SAAL,CAAeT,GAAf,EAAoBP,KAApB,CAA/B;AACH;;AACD,QAAI,CAACU,MAAL,EAAa;AACTL,MAAAA,YAAY,CAACU,OAAb,CAAqB,QAArB,EAA+BP,IAAI,CAACQ,SAAL,CAAeC,aAAa,CAACV,GAAD,EAAMP,KAAN,CAA5B,CAA/B;AACH;AACJ,GAdD,MAcO;AACH,QAAIO,GAAG,GAAE,EAAT;AACAF,IAAAA,YAAY,CAACU,OAAb,CAAqB,QAArB,EAA+BP,IAAI,CAACQ,SAAL,CAAeC,aAAa,CAACV,GAAD,EAAMP,KAAN,CAA5B,CAA/B;AACH;;AACDkB,EAAAA,KAAK,CAAC,wBAAD,CAAL;AACH;;AAED,SAASD,aAAT,CAAuBV,GAAvB,EAA4BP,KAA5B,EAAmC;AAC/B,QAAM;AAACE,IAAAA,KAAD;AAAQD,IAAAA;AAAR,MAAgBD,KAAK,CAACG,WAA5B;AACA,QAAM;AAACgB,IAAAA,IAAD;AAAOC,IAAAA,KAAP;AAAcC,IAAAA;AAAd,MAAyBrB,KAAK,CAACG,WAAN,CAAkBmB,OAAlB,CAA0B,CAA1B,CAA/B;AACA,MAAIC,GAAG,GAAG;AAACV,IAAAA,EAAE,EAAEb,KAAK,CAACc,OAAX;AAAoBK,IAAAA,IAAI,EAAEA,IAA1B;AAAgCE,IAAAA,OAAO,EAAEA,OAAzC;AAAkDpB,IAAAA,IAAI,EAAEA,IAAxD;AACNC,IAAAA,KAAK,EAAEA,KADD;AACQkB,IAAAA,KAAK,EAAEA,KADf;AACsBI,IAAAA,IAAI,EAAEJ,KAAK,GAAClB;AADlC,GAAV;AAEAuB,EAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ,EAL+B,CAM/B;;AACA,SAAOhB,GAAP;AACH","sourcesContent":["export default function addToCart(props) {\r\n    /*\r\n       if storage already exists\r\n            load existing cart\r\n                if same product is added (same id same size)\r\n                    add up the count\r\n                if different products\r\n                    push to the existing list\r\n       if no data exists\r\n            create new JSON array and store to local storage\r\n    */\r\n    const {size, count} = props.productInfo;\r\n    let cart = localStorage.getItem('myCart');\r\n    if (cart) {\r\n        let arr = JSON.parse(cart);\r\n        let exists = false;\r\n        for (let i=0; i<arr.length; i++) {\r\n            if (arr[i].id === props.paramId && arr[i].size === size) {\r\n                arr[i].count += count;\r\n                exists = true;\r\n                i=arr.length; // break out of the loop\r\n            }\r\n            localStorage.setItem('myCart', JSON.stringify(arr, props));\r\n        }\r\n        if (!exists) {\r\n            localStorage.setItem('myCart', JSON.stringify(updateStorage(arr, props)));\r\n        }\r\n    } else {\r\n        let arr =[];\r\n        localStorage.setItem('myCart', JSON.stringify(updateStorage(arr, props)));\r\n    }\r\n    alert('Added to shopping cart')\r\n}\r\n\r\nfunction updateStorage(arr, props) {\r\n    const {count, size} = props.productInfo;\r\n    const {name, price, picture} = props.productInfo.details[0];\r\n    var obj = {id: props.paramId, name: name, picture: picture, size: size,\r\n        count: count, price: price, cost: price*count};\r\n    console.log(obj);\r\n    //arr.push(obj);\r\n    return arr;\r\n}"]},"metadata":{},"sourceType":"module"}