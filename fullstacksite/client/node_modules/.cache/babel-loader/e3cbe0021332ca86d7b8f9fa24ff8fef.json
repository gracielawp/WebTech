{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DELL\\\\WebTech\\\\fullstacksite\\\\client\\\\src\\\\views\\\\ShoppingCartPage.js\";\nimport React, { Component } from 'react';\nimport OverHeadBar from \"./OverHeadBar\";\nimport IconBar from \"./IconBar\";\nimport Link from \"@material-ui/core/Link\";\nimport CartProduct from \"../Component/CartProduct\";\nimport cart from \"../views/ShoppingCart.module.css\";\n\nclass ShoppingCartPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: true,\n      productList: null\n    };\n\n    this.removeItem = index => {\n      let arr = JSON.parse(localStorage.getItem('myCart'));\n      arr.splice(index, 1);\n      localStorage.setItem('myCart', JSON.stringify(arr));\n      this.setState({\n        productList: arr\n      });\n    };\n  }\n\n  async componentDidMount() {\n    let cart = await localStorage.getItem('myCart');\n    var arr = JSON.parse(cart);\n\n    if (arr) {\n      this.setState({\n        productList: arr\n      });\n    }\n\n    console.log(this.state.productList);\n    this.setState({\n      loading: false\n    });\n  }\n\n  render() {\n    if (this.state.loading) return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 40\n      }\n    }, /*#__PURE__*/React.createElement(OverHeadBar, {\n      currentPage: \"cart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 45\n      }\n    }), \"loading...\");\n\n    if (!this.state.productList || this.state.productList.length === 0) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(OverHeadBar, {\n        currentPage: \"cart\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 21\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 21\n        }\n      }, \"Empty cart\"), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 21\n        }\n      }, \"Go shopping\"), /*#__PURE__*/React.createElement(IconBar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }\n      }));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(OverHeadBar, {\n      currentPage: \"cart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: cart.overview,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: cart.productList,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 21\n      }\n    }, this.state.productList.map((product, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(CartProduct, {\n        product: product,\n        index: index,\n        onRemove: this.removeItem,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 37\n        }\n      }));\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: cart.forms,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(IconBar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }\n    }));\n  }\n\n}\n\nexport default ShoppingCartPage;","map":{"version":3,"sources":["C:/Users/DELL/WebTech/fullstacksite/client/src/views/ShoppingCartPage.js"],"names":["React","Component","OverHeadBar","IconBar","Link","CartProduct","cart","ShoppingCartPage","state","loading","productList","removeItem","index","arr","JSON","parse","localStorage","getItem","splice","setItem","stringify","setState","componentDidMount","console","log","render","length","overview","map","product","forms"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport OverHeadBar from \"./OverHeadBar\";\r\nimport IconBar from \"./IconBar\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport CartProduct from \"../Component/CartProduct\";\r\nimport cart from \"../views/ShoppingCart.module.css\";\r\n\r\nclass ShoppingCartPage extends Component {\r\n    state = {\r\n        loading: true,\r\n        productList: null\r\n    }\r\n\r\n    async componentDidMount() {\r\n        let cart = await localStorage.getItem('myCart');\r\n        var arr = JSON.parse(cart);\r\n        if (arr) {\r\n            this.setState({productList: arr});\r\n        }\r\n        console.log(this.state.productList);\r\n        this.setState({loading: false});\r\n    }\r\n\r\n    removeItem = (index) => {\r\n        let arr = JSON.parse(localStorage.getItem('myCart'));\r\n        arr.splice(index,1);\r\n        localStorage.setItem('myCart', JSON.stringify(arr));\r\n        this.setState({productList: arr});\r\n    }\r\n\r\n    render() {\r\n        if (this.state.loading) return <div><OverHeadBar currentPage='cart'/>loading...</div>\r\n        if (!this.state.productList || this.state.productList.length===0) {\r\n            return (\r\n                <div>\r\n                    <OverHeadBar currentPage='cart'/>\r\n                    <div>Empty cart</div>\r\n                    <div>Go shopping</div>\r\n                    <IconBar />\r\n                </div>);}\r\n        return (\r\n            <div>\r\n                <OverHeadBar currentPage='cart'/>\r\n                <div className={cart.overview}>\r\n                    <div className={cart.productList}>\r\n                        {this.state.productList.map((product, index) => {\r\n                            return (\r\n                                <div>\r\n                                    <CartProduct product={product} index={index} onRemove={this.removeItem}/>\r\n                                </div>\r\n                            )})\r\n                        }\r\n                    </div>\r\n                    <div className={cart.forms}>\r\n\r\n                    </div>\r\n                </div>\r\n\r\n                <IconBar />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ShoppingCartPage;"]},"metadata":{},"sourceType":"module"}