{"ast":null,"code":"import React from \"react\";\nexport function UpdateCart(productInfo, paramId) {\n  /*\r\n     if storage already exists\r\n          load existing cart\r\n              if same product is added (same id same size)\r\n                  add up the count\r\n              if different products\r\n                  push to the existing list\r\n     if no data exists\r\n          create new JSON array and store to local storage\r\n  */\n  const {\n    size,\n    count\n  } = productInfo;\n  let cart = localStorage.getItem('myCart');\n\n  if (cart) {\n    let arr = JSON.parse(cart);\n    let exists = false;\n\n    for (let i = 0; i < arr.length; i++) {\n      if (arr[i].id === paramId && arr[i].size === size) {\n        console.log(arr[i].count, count);\n        arr[i].count += count;\n        exists = true;\n        i = arr.length; // break out of the loop\n      }\n\n      localStorage.setItem('myCart', JSON.stringify(arr));\n    }\n\n    if (!exists) {\n      localStorage.setItem('myCart', JSON.stringify(updateStorage(arr, productInfo, paramId)));\n    }\n  } else {\n    let arr = [];\n    localStorage.setItem('myCart', JSON.stringify(updateStorage(arr, productInfo, paramId)));\n  }\n\n  alert('Added to shopping cart');\n}\nexport function updateObj(key, count) {\n  let arr = JSON.parse(localStorage.getItem('myCart'));\n  arr[key].count = count;\n  localStorage.setItem('myCart', JSON.stringify(arr));\n}\n\nfunction updateStorage(arr, productInfo, paramId) {\n  const {\n    count,\n    size\n  } = productInfo;\n  const {\n    name,\n    price,\n    picture\n  } = productInfo.details[0];\n  let obj = {\n    id: paramId,\n    name: name,\n    picture: picture,\n    size: size,\n    count: count,\n    price: price,\n    cost: price * count\n  };\n  console.log(obj);\n  arr.push(obj);\n  return arr;\n}","map":{"version":3,"sources":["C:/Users/DELL/WebTech/fullstacksite/client/src/Component/UpdateCart.js"],"names":["React","UpdateCart","productInfo","paramId","size","count","cart","localStorage","getItem","arr","JSON","parse","exists","i","length","id","console","log","setItem","stringify","updateStorage","alert","updateObj","key","name","price","picture","details","obj","cost","push"],"mappings":"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","sourcesContent":["import React from \"react\";\r\n\r\nexport function UpdateCart(productInfo, paramId) {\r\n    /*\r\n       if storage already exists\r\n            load existing cart\r\n                if same product is added (same id same size)\r\n                    add up the count\r\n                if different products\r\n                    push to the existing list\r\n       if no data exists\r\n            create new JSON array and store to local storage\r\n    */\r\n    const {size, count} = productInfo;\r\n    let cart = localStorage.getItem('myCart');\r\n    if (cart) {\r\n        let arr = JSON.parse(cart);\r\n        let exists = false;\r\n        for (let i=0; i<arr.length; i++) {\r\n            if (arr[i].id === paramId && arr[i].size === size) {\r\n                console.log(arr[i].count, count);\r\n                arr[i].count += count;\r\n                exists = true;\r\n                i=arr.length; // break out of the loop\r\n            }\r\n            localStorage.setItem('myCart', JSON.stringify(arr));\r\n        }\r\n        if (!exists) {\r\n            localStorage.setItem('myCart', JSON.stringify(updateStorage(arr, productInfo, paramId)));\r\n        }\r\n    } else {\r\n        let arr =[];\r\n        localStorage.setItem('myCart', JSON.stringify(updateStorage(arr, productInfo, paramId)));\r\n    }\r\n    alert('Added to shopping cart')\r\n}\r\n\r\nexport function updateObj(key, count) {\r\n    let arr = JSON.parse(localStorage.getItem('myCart'));\r\n    arr[key].count = count;\r\n    localStorage.setItem('myCart', JSON.stringify(arr));\r\n}\r\n\r\n\r\nfunction updateStorage(arr, productInfo, paramId) {\r\n    const {count, size} = productInfo;\r\n    const {name, price, picture} = productInfo.details[0];\r\n    let obj = {id: paramId, name: name, picture: picture, size: size,\r\n        count: count, price: price, cost: price*count};\r\n    console.log(obj);\r\n    arr.push(obj);\r\n    return arr;\r\n}"]},"metadata":{},"sourceType":"module"}